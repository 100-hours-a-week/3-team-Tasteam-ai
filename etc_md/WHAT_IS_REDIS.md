
Redis에 대한 설명

Redis 분산 락

Redis 분산 락은 ‘데이터를 재사용하기 위한 캐싱’이 아니라,
‘동시 실행을 제어하기 위한 동기화(synchronization) 메커니즘’이다.

캐싱

1️⃣ 캐싱의 정의

캐싱은:

이미 계산된 결과를 저장

다음 요청에서 계산을 건너뛰기 위한 것

input → cache lookup → (hit) result 반환


핵심은 **“결과 재사용”**

Redis 분산 락

2️⃣ Redis 분산 락의 정의

분산 락은:

같은 작업이 동시에 실행되지 않게 제어

결과를 저장하거나 재사용하지 않음

request → lock 획득 → 실행 → lock 해제

핵심은 **“동시성 제어”**야.


같은 Redis를 쓰는데도 성격이 다름

Redis는 메모리 KV 스토어라서:

캐시로도 쓰이고

락으로도 쓰이고

rate limit, 세마포, 큐로도 쓰임

도구는 같아도, 패턴이 다름

---

REDIS를 분산 락 용도로 선택한 이유

1. SET NX + TTL을 이용한 간단한 구현

2. 네트워크 왕복 1회 수준의 낮은 지연

3. 워커/서버 수 증가 시에도 중앙화된 동시성 제어 가능

4. 락 TTL로 장애 시 데드락을 방지할 수 있기 때문

---

REDIS 캐싱은 기존에 lock 용도로 사용 하던 REDIS를 그대로 사용